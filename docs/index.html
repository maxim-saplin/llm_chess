<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
    <title>LLM Chess Leaderboard</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4SS6VHS4QF"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-4SS6VHS4QF');
    </script>
    <script src="data.js"></script>
    <script src="script.js"></script>
    <script src="md.js"></script>
</head>
<body>
    <p style="display: none;">
        LLM Chess Leaderboard
        <br>
        Simulating chess games between a Random Player and an LLM. Evaluating Chat Models' (1) chess proficiency and (2) instruction following abilities
    </p>
    <div class="center">
        <pre class="title">
 __       __                    ____     __                               
/\ \     /\ \       /'\_/`\    /\  _``. /\ \                              
\ \ \    \ \ \     /\      \   \ \ \/\_\\ \ \___      __    ____    ____  
 \ \ \  __\ \ \  __\ \ \__\ \   \ \ \/_/_\ \  _ `\  /'__`\ /',__\  /',__\ 
  \ \ \L\ \\ \ \L\ \\ \ \_/\ \   \ \ \L\ \\ \ \ \ \/\  __//\__, `\/\__, `\
   \ \____/ \ \____/ \ \_\\ \_\   \ \____/ \ \_\ \_\ \____\/\____/\/\____/
    \/___/   \/___/   \/_/ \/_/    \/___/   \/_/\/_/\/____/\/___/  \/___/ 

        </pre>
        <pre class="title-narrow">
         __         __         __    __                        
        /\ \       /\ \       /\ "-./  \                       
        \ \ \____  \ \ \____  \ \ \-./\ \                      
         \ \_____\  \ \_____\  \ \_\ \ \_\                     
          \/_____/   \/_____/   \/_/  \/_/                                                                                
 ______     __  __     ______     ______     ______    
/\  ___\   /\ \_\ \   /\  ___\   /\  ___\   /\  ___\   
\ \ \____  \ \  __ \  \ \  __\   \ \___  \  \ \___  \  
 \ \_____\  \ \_\ \_\  \ \_____\  \/\_____\  \/\_____\ 
  \/_____/   \/_/\/_/   \/_____/   \/_____/   \/_____/ 
        </pre>
        <div class="game">
            <span style="color: yellow;">Random Player (White)</span>
            <div class="board">
<pre class="board">
♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜
♟ ♟ ♟ ♟ ♟ ♟ ♟ ♟
· · · · · · · ·
· · · · · · · ·
· · · · · · · ·
· · · · · · · ·
♙ ♙ ♙ ♙ ♙ ♙ ♙ ♙
♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖</pre>
                <div class="game-over">
                    <p>GAME OVER</p>
                    <span>
                        - Outcome: Draw<br>
                        - Max moves reached: 200<br>
                        - Material White: 16<br>
                        - Material Black: 18
                    </span>
                </div>
            </div>
            <span style="color: yellow;">GPT-4o Mini (Black)</span>
        </div>
        <p class="intro">
            Can Large Language Models play chess effectively? This leaderboard evaluates both chess skill and instruction following ability.
            <br><br>
            Prompt an LLM to move based on the board state, 
            hint it with legal moves, and it can make moves (though some struggle with instruction following) 
            and even explain its tactics or strategy.
            <br><br>
            But can LLMs make meaningful moves and win? 
            Let's test them against a random player (a bot that picks legal moves randomly). 
            These Foundational Models, with their vast knowledge and reasoning abilities,
            should easily defeat a chaos monkey, right?
            <br><br>
            Let's find out ツ
        </p>
        <div class="button-container">
            <!-- Navigation will be dynamically generated here -->
        </div>
        <!-- ############################ -->
        <!-- LEADERBOARD AND DESCRIPTIONS -->
        <!-- ############################ -->
        <div id="leaderboard" class="pane">
            <div class="table-container">
                <table>
                    <thead>
                        <!-- Headers will be populated here -->
                    </thead>
                    <tbody>
                        <!-- Data will be populated here -->
                    </tbody>
                </table>

            </div>
            <p class="descriptions">
                <strong>METRICS:</strong><br><br>
                <strong>- Player:</strong> Model playing as black against a Random Player.<br>
                <strong>- Win/Loss:</strong> Difference between wins and losses as a percentage of total games (0-100%). This is the primary ranking metric that measures BOTH chess skill AND instruction following ability. A model needs to understand chess strategy AND follow game instructions correctly to score well. 50% represents equal wins/losses, higher scores mean more wins than losses.<br>
                <strong>- Game Duration:</strong> Percentage of maximum possible game length completed before termination (0-100%). This specifically measures instruction following reliability across many moves. 100% indicates the model either reached a natural conclusion (checkmate, stalemate) or the maximum 200 moves without protocol violations. Lower scores show the model struggled to maintain correct communication as the game progressed.<br>
                <strong>- Tokens:</strong> Number of tokens generated per move. Demonstrates the model's verbosity. Lower token counts may indicate efficiency, while higher counts may show more detailed reasoning OR more garbage generation (depending on the overaal rank, reasoning models generate more tokens anre scrore better, weak models can also be verbose yet show poor performance).<br><br>
                <strong>NOTES:</strong><br><br>
                - LLMs played as black against a Random Player (as white).<br>
                - 30+ game simulations for Random Player vs. LLM.<br>
                - Bottom rows in green demonstrate how a Chess Engine (Stockfish v17) fares against a Random Player.<br>
                - 1000 simulations for Random Player vs. Chess Engine and Random vs. Random.<br>
                - The default sorting is by Win/Loss (DESC), Game Duration (DESC) and Mistakes (ASC).<br>
            </p>
        </div>
        
        <!-- ############################ -->
        <!-- MATRIX VIEW                  -->
        <!-- ############################ -->
        <div id="matrix-view" class="pane" style="display: none;">
            <div class="matrix-container">
                <canvas id="player-matrix" width="680" height="500"></canvas>
            </div>
            <p class="descriptions">
                <strong>MATRIX VISUALIZATION:</strong><br><br>
                This plots shows LLM chess players based on two key metrics:<br><br>
                <strong>- X-Axis:</strong> Game Duration (0-100%) - Shows how well models maintain correct communication protocols throughout the game. Higher values indicate better instruction following ability.<br><br>
                <strong>- Y-Axis:</strong> Win Rate (0-100%) - The metric is less strict than Win/Loss (Non-Interrupted) used in the leaderboard as it ignores technichal losses due to poor instruction following. Higher values indicate better chess strategy and decision making.<br><br>
                <strong>INTERPRETATION:</strong><br><br>
                - <strong>Top-Right:</strong> Models with both excellent chess skill and instruction following.<br>
                - <strong>Top-Left:</strong> Models with good chess skill but struggle to maintain communication protocol.<br>
                - <strong>Bottom-Right:</strong> Models that follow instructions well but make poor chess moves.<br>
                - <strong>Bottom-Left:</strong> Models that struggle with both chess strategy and following instructions.<br><br>
            </p>
        </div>
        <!-- ############ -->
        <!-- HOW IT WORKS -->
        <!-- ############ -->
        <div id="how-it-works" class="pane" style="display: none;">
            <p class="descriptions">
                <strong>Libraries and Dependencies Used:</strong><br><br>
                - <strong>chess:</strong> A Python library for handling chess game rules and basic operations, including board representation, legal move evaluation, and game state evaluation. This is not a chess engine running the actual calculation of the best move.<br>
                - <strong>Microsoft Autogen</strong> is used as a backbone for LLM communication. It also implements the interaction between a Chess Board and custom agents like GameAgent, RandomPlayerAgent, AutoReplyAgent, and others for simulating different player types.<br>
                - <strong>Stockfish</strong> - the chess engine doing the actual best move calculation, used as a reference to demonstrate what a real chess player's performance is.<br>
                <br>
                <strong>Workflow:</strong><br><br>
                1. The game is initialized with a chess board and two players: a Random Player (as white) and an LLM (as black).<br>
                2. The game loop runs until a termination condition is met, such as checkmate, stalemate, or reaching the maximum number of moves.<br>
                3. Each player takes turns making a move. The Random Player selects a move randomly from the list of legal moves.<br>
                4. The LLM is prompted to make a move using a structured dialog, which includes actions like getting the current board state, retrieving legal moves, and making a move.<br>
                5. The game state is updated after each move, and the board is visualized if enabled.<br>
                6. Game statistics are generated and stored at the end of the game.<br>
                <br>
                <strong>Dialog:</strong><br><br>
                Here is an example of a dialog that prompts a model to make a move. UCI format refers to Universal Chess Interface notation, which uses source and destination squares (e.g., e2e4 means move from e2 to e4):<br>
            </p>
            <pre class="snippet">
<span style="color:green">Proxy (to Player_Black):</span>
You are a professional chess player and you play as black. Now is your turn to make a move. Before making a move you can pick one of the following actions:
- 'get_current_board' to get the schema and current status of the board
- 'get_legal_moves' to get a UCI formatted list of available moves
- 'make_move &lt;UCI formatted move&gt;' when you are ready to complete your turn (e.g., 'make_move e2e4')
Respond with the action.

<span style="color:green">Player_Black (to Proxy):</span>
get_current_board

<span style="color:green">Proxy (to Player_Black):</span>
<span style="font-family: Chess;">♞ ♝ ♛ ♚ ♝ ♞ ♜ ♜
♟ ♟ ♟ ♟ ♟ ♟ ♟ ♟
· · · · · · · ·
· · · · · · · ·
· · · · · · · ·
· · · · · · · ·
♙ ♙ ♙ ♙ ♙ ♙ ♙ ♙
♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖
</span>

<span style="color:green">Player_Black (to Proxy):</span>
get_legal_moves

<span style="color:green">Proxy (to Player_Black):</span>
a7a6, b7b6, c7c6, d7d6, e7e6, f7f6, g7g6, h7h6, a7a5, b7b5, c7c5, d7d5, e7e5, f7f5, g7g5, h7h5

<span style="color:green">Player_Black (to Proxy):</span>
make_move e7e5

<span style="color:green">Proxy (to Player_Black):</span>
Move made, switching player
            </pre>
            <p class="descriptions">
                1 move = 1 dialog. The dialog is limited to 10 turns (10 pairs of Proxy/Agent Request/Response messages). A maximum of 3 mistakes (not conforming to 
                communication notation, picking wrong action or wrong move) are allowed per dialog. 
                The game is terminated and LLM is given a loss if the max turns OR number of LLM mistakes is reached in the given dialog. Models that excel at both chess strategy and following instructions precisely will perform best.
            </p>
        </div>
        <!-- ############ -->
        <!-- NOTES        -->
        <!-- ############ -->
        <div id="considerations" class="pane" style="display: none;">
        </div>
        <a class="gh" href="https://github.com/maxim-saplin/llm_chess/" target="_blank">
            <img src="icons/gh.png" alt="GitHub Icon">
            Project's GitHub
        </a>
    <p id="mistakes"></p>
    <p id="completion-tokens"></p>
</div>
    <div id="popup" style="display: none;">
        <p id="total-games"></p>
        <p id="win_loss"></p>
        <p id="game-duration"></p>
        <p id="games-interrupted"></p>
        <p id="wins"></p>
        <p id="losses"></p>
        <p id="draws"></p> 
        <p id="average-moves"></p>
        <p id="material-diff"></p>
        <p id="mistakes-per-1000moves"></p>
        <p id="completion-tokens-black-per-move"></p>
    </div>
</body>
</html>
